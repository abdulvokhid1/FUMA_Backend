// This is your Prisma schema file.
// Docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Admin {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
}

model User {
  id               Int              @id @default(autoincrement())
  name             String?
  email            String           @unique
  password         String
  phone            String?
  isApproved       Boolean          @default(false)
  accessExpiresAt  DateTime?
  paymentProofUrl  String?
  plan             MembershipPlan?
  createdAt        DateTime         @default(now())
  updatedAt        DateTime?        @default(now()) // Safe for migration; later make it @updatedAt
  notifications    Notification[]
}

enum MembershipPlan {
  LEVEL1
  LEVEL2
  LEVEL3
  LEVEL4
  VIP
}

model Notification {
  id        Int      @id @default(autoincrement())
  userId    Int
  user      User     @relation(fields: [userId], references: [id])
  type      String   // e.g., "NEW_PAYMENT_PROOF"
  message   String
  plan      MembershipPlan?
  isRead    Boolean  @default(false)
  isApproved Boolean @default(false)
  createdAt DateTime @default(now())
}


model Faq {
  id        Int      @id @default(autoincrement())
  question  String
  answer    String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

